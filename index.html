<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Donor Management System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="login-container">
        <div class="login-box">
            <div class="login-content">
                <div class="login-header">
                    <div class="logo-container">üè•</div>
                    <h1>Donor Management System</h1>
                </div>

                <div class="login-tabs">
                    <div class="tab-buttons">
                        <button class="tab-btn active" data-tab="login">üîê Login</button>
                        <button class="tab-btn" data-tab="register">üë§ Register</button>
                    </div>

                    <div id="login" class="tab-content active">
                        <form onsubmit="handleLogin(event)" class="form-group">
                            <div class="form-field">
                                <label for="login-username">üë§ Username</label>
                                <input type="text" id="login-username" required placeholder="Enter your username">
                            </div>
                            <div class="form-field">
                                <label for="login-password">üîí Password</label>
                                <input type="password" id="login-password" required placeholder="Enter your password">
                            </div>
                            <div class="form-field checkbox-field">
                                <label for="remember_me" class="checkbox-label">
                                    <input type="checkbox" id="remember_me">
                                    <span class="checkmark"></span>
                                    Ghi nh·ªõ ƒëƒÉng nh·∫≠p
                                </label>
                            </div>
                            <button type="submit" class="btn btn-primary">üîê Login</button>
                        </form>
                    </div>

                    <div id="register" class="tab-content">
                        <form onsubmit="handleRegister(event)" class="form-group">
                            <div class="form-field">
                                <label for="reg-username">üë§ Username</label>
                                <input type="text" id="reg-username" required placeholder="Create a username">
                            </div>
                            <div class="form-field">
                                <label for="reg-email">‚úâÔ∏è Email</label>
                                <input type="email" id="reg-email" required placeholder="Enter your email">
                            </div>
                            <div class="form-field">
                                <label for="reg-password">üîí Password</label>
                                <input type="password" id="reg-password" required placeholder="Create a password">
                            </div>
                            <button type="submit" class="btn btn-primary">üë§ Register</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // X·ª≠ l√Ω chuy·ªÉn trang gi·∫£ l·∫≠p cho Vercel
        function handleLogin(e) {
            e.preventDefault();
            // Chuy·ªÉn h∆∞·ªõng sang file dashboard.html
            window.location.href = "dashboard.html";
        }

        function handleRegister(e) {
            e.preventDefault();
            alert("ƒêƒÉng k√Ω th√†nh c√¥ng! Vui l√≤ng ƒëƒÉng nh·∫≠p.");
            // Reload l·∫°i ƒë·ªÉ v·ªÅ tab login (ho·∫∑c d√πng JS chuy·ªÉn tab)
            window.location.reload();
        }

        // Tab switching functionality (Code c≈© c·ªßa b·∫°n)
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const tabName = this.getAttribute('data-tab');
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                document.getElementById(tabName).classList.add('active');
            });
        });

        // Cookie logic (Code c≈© c·ªßa b·∫°n)
        document.addEventListener('DOMContentLoaded', function() {
            if (!hasCookieConsent()) showCookieBanner();
        });
        function hasCookieConsent() { return document.cookie.indexOf('dms_cookie_consent=accepted') !== -1; }
        function showCookieBanner() {
            const banner = document.createElement('div');
            banner.id = 'cookie-banner';
            banner.innerHTML = `<div class="cookie-banner-content"><p>Ch√∫ng t√¥i s·ª≠ d·ª•ng cookies ƒë·ªÉ c·∫£i thi·ªán tr·∫£i nghi·ªám...</p><div class="cookie-buttons"><button onclick="acceptCookies()">Ch·∫•p nh·∫≠n</button><button onclick="declineCookies()">T·ª´ ch·ªëi</button></div></div>`;
            banner.style.cssText = `position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: white; padding: 15px; z-index: 1000; text-align: center;`;
            document.body.appendChild(banner);
        }
        function acceptCookies() {
            document.cookie = 'dms_cookie_consent=accepted; path=/; max-age=' + (365 * 24 * 60 * 60);
            document.getElementById('cookie-banner').remove();
        }
        function declineCookies() {
            document.getElementById('cookie-banner').remove();
        }





        function handleLogin(e) {
        e.preventDefault(); // Ch·∫∑n t·∫£i l·∫°i trang
        
        const user = document.getElementById('login-username').value;
        const pass = document.getElementById('login-password').value;

        // Ki·ªÉm tra m·∫≠t kh·∫©u c·ª©ng (Demo)
        if (user === 'admin' && pass === '123') {
            // 1. L∆∞u tr·∫°ng th√°i ƒëƒÉng nh·∫≠p v√†o SessionStorage (T·∫Øt tab l√† m·∫•t)
            sessionStorage.setItem('is_logged_in', 'true');
            sessionStorage.setItem('username', user);
            
            alert('ƒêƒÉng nh·∫≠p th√†nh c√¥ng!');
            
            // 2. Chuy·ªÉn sang Dashboard
            window.location.href = 'dashboard.html';
        } else {
            alert('Sai t√†i kho·∫£n ho·∫∑c m·∫≠t kh·∫©u! (Th·ª≠: admin / 123)');
        }
    }






        


        
    </script>
</body>
</html>
